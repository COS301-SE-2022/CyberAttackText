const a0_0x3df0=['code','endTask','local-cache-hit','skipNxCache','updateStartedTask','filter','task','params','obfuscate','TRUNCATED\x0a\x0a','readFileSync','hash','npm:','remote-cache','toISOString','MAX_CHARACTERS_SUCCESSFUL_TASK','cleanUpHashDetails','cache','remote-cache-hit','scheduleTask','cacheStatus','cacheDirectory','collectTerminalOutput','MAX_CHARACTERS_FAILED_TASK','toString','startsWith','push','keys','tasks','node_modules','target','implicitDeps','endTasks','Cannot\x20find\x20task\x20','path','readTerminalOutputFile','nodes','length','terminalOutputs','local-cache-kept-existing','outputObfuscator','endTime','statuses','getTerminalOutput','taskId','NX_CLOUD_UNLIMITED_OUTPUT','CloudEnabledLifeCycle','slice','runtime','hashDetails','cacheableOperations','../../../utilities/serializer-overrides','indexOf','find','forEach','runContext','.cache','terminalOutput','startTask','join','status','defineProperty'];(function(_0x4048d,_0x3df023){const _0x551dba=function(_0x471484){while(--_0x471484){_0x4048d['push'](_0x4048d['shift']());}};_0x551dba(++_0x3df023);}(a0_0x3df0,0x65));const a0_0x551d=function(_0x4048d,_0x3df023){_0x4048d=_0x4048d-0x0;let _0x551dba=a0_0x3df0[_0x4048d];return _0x551dba;};'use strict';Object[a0_0x551d('0x16')](exports,'__esModule',{'value':!![]});exports[a0_0x551d('0x7')]=void 0x0;const path=require('path');const path_1=require(a0_0x551d('0x39'));const fs_1=require('fs');const environment_1=require('../../../utilities/environment');const serializer_overrides_1=require(a0_0x551d('0xc'));const {workspaceRoot}=require('../../../utilities/nx-imports');class CloudEnabledLifeCycle{constructor(_0x54d050,_0x3a03b1,_0x13b946,_0x55deb8,_0x51ea36,_0x285ddd,_0x16c34f){this[a0_0x551d('0x10')]=_0x54d050;this[a0_0x551d('0x2c')]=_0x3a03b1;this[a0_0x551d('0x1a')]=_0x13b946;this['collectTerminalOutput']=_0x55deb8;this[a0_0x551d('0xb')]=_0x51ea36;this[a0_0x551d('0x1')]=_0x285ddd;this[a0_0x551d('0x33')]=_0x16c34f;}[a0_0x551d('0x2a')](_0x347e9d){this[a0_0x551d('0x10')]['scheduledTasks'][a0_0x551d('0x31')](_0x347e9d);}[a0_0x551d('0x13')](_0x3f9f93){this['tasks']['push']({'taskId':_0x3f9f93['id'],'startTime':new Date()['toISOString'](),'target':_0x3f9f93[a0_0x551d('0x35')]['target'],'projectName':_0x3f9f93[a0_0x551d('0x35')]['project'],'hash':_0x3f9f93[a0_0x551d('0x22')],'hashDetails':this[a0_0x551d('0x27')](_0x3f9f93[a0_0x551d('0xa')]),'params':(0x0,serializer_overrides_1['serializeOverrides'])(_0x3f9f93)});}[a0_0x551d('0x18')](_0x268748,_0x16e07a){let _0x5373a4;if(this[a0_0x551d('0x10')][a0_0x551d('0x3')][_0x268748[a0_0x551d('0x22')]]){_0x5373a4=this[a0_0x551d('0x10')][a0_0x551d('0x3')][_0x268748[a0_0x551d('0x22')]];}else{if(this['cacheableOperations'][a0_0x551d('0xd')](_0x268748[a0_0x551d('0x35')][a0_0x551d('0x35')])>-0x1&&!this['skipNxCache']){_0x5373a4=a0_0x551d('0x19');}else{_0x5373a4='cache-miss';}}this[a0_0x551d('0x1b')](_0x268748,_0x16e07a,_0x5373a4);}[a0_0x551d('0x37')](_0x205207){for(let _0x44fd79 of _0x205207){let _0x5ab624;const _0x136ce6=_0x44fd79[a0_0x551d('0x15')]===a0_0x551d('0x24');const _0x485373=_0x44fd79[a0_0x551d('0x15')]===a0_0x551d('0x28');const _0x380403=_0x44fd79[a0_0x551d('0x15')]==='local-cache'||_0x44fd79['status']===a0_0x551d('0x0')||_0x485373;if(this[a0_0x551d('0x10')][a0_0x551d('0x3')][_0x44fd79['task']['hash']]){_0x5ab624=this[a0_0x551d('0x10')][a0_0x551d('0x3')][_0x44fd79[a0_0x551d('0x1d')]['hash']];}else if(_0x136ce6){_0x5ab624=a0_0x551d('0x29');}else if(_0x380403){_0x5ab624=a0_0x551d('0x19');}else{if(this[a0_0x551d('0xb')][a0_0x551d('0xd')](_0x44fd79['task'][a0_0x551d('0x35')][a0_0x551d('0x35')])>-0x1&&!this[a0_0x551d('0x1a')]){_0x5ab624=a0_0x551d('0x19');}else{_0x5ab624='cache-miss';}}this[a0_0x551d('0x1b')](_0x44fd79[a0_0x551d('0x1d')],_0x44fd79[a0_0x551d('0x17')],_0x5ab624);}}['endCommand'](){}[a0_0x551d('0x1b')](_0x34ba70,_0x4e7124,_0x268449){const _0x4439c7=this[a0_0x551d('0x33')][a0_0x551d('0xe')](_0x1bc8fc=>_0x1bc8fc[a0_0x551d('0x5')]===_0x34ba70['id']);if(!_0x4439c7){throw new Error(a0_0x551d('0x38')+_0x34ba70['id']);}_0x4439c7[a0_0x551d('0x2')]=new Date()[a0_0x551d('0x25')]();_0x4439c7[a0_0x551d('0x15')]=_0x4e7124;_0x4439c7['params']=this[a0_0x551d('0x1')][a0_0x551d('0x1f')](_0x4439c7[a0_0x551d('0x1e')]);_0x4439c7[a0_0x551d('0x2b')]=_0x268449;if(this[a0_0x551d('0x2d')]){_0x4439c7[a0_0x551d('0x12')]=this[a0_0x551d('0x4')](_0x34ba70[a0_0x551d('0x22')],_0x4439c7['cacheStatus'],_0x4e7124);}}[a0_0x551d('0x4')](_0x570430,_0x1558fa,_0xcc9e6e){let _0x34a85b;if(this['cacheDirectory']){if(this[a0_0x551d('0x2c')][a0_0x551d('0x30')]('./')){_0x34a85b=(0x0,path_1[a0_0x551d('0x14')])(workspaceRoot,this[a0_0x551d('0x2c')]);}else{_0x34a85b=this[a0_0x551d('0x2c')];}}else{_0x34a85b=(0x0,path_1[a0_0x551d('0x14')])(workspaceRoot,a0_0x551d('0x34'),a0_0x551d('0x11'),'nx');}try{const _0x3d03f4=this[a0_0x551d('0x3a')](_0x34a85b,_0x570430);const _0x194489=this[a0_0x551d('0x1')][a0_0x551d('0x1f')](_0x3d03f4);if(environment_1[a0_0x551d('0x6')])return _0x194489;const _0x16c718=_0x1558fa==='cache-miss'?_0xcc9e6e===0x0?CloudEnabledLifeCycle[a0_0x551d('0x26')]:CloudEnabledLifeCycle[a0_0x551d('0x2e')]:CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK'];return _0x194489[a0_0x551d('0x3c')]>_0x16c718?a0_0x551d('0x20')+_0x194489[a0_0x551d('0x8')](_0x194489['length']-_0x16c718):_0x194489;}catch(_0x3bcbcd){return'';}}['cleanUpHashDetails'](_0x5cf483){const _0x1c23ce={};Object[a0_0x551d('0x32')](_0x5cf483[a0_0x551d('0x3b')])[a0_0x551d('0x1c')](_0x3b369a=>!_0x3b369a[a0_0x551d('0x30')](a0_0x551d('0x23')))[a0_0x551d('0xf')](_0x16adb9=>{_0x1c23ce[_0x16adb9]=_0x5cf483[a0_0x551d('0x3b')][_0x16adb9];});return{'nodes':_0x1c23ce,'runtime':_0x5cf483[a0_0x551d('0x9')],'implicitDeps':_0x5cf483[a0_0x551d('0x36')]};}[a0_0x551d('0x3a')](_0x5cfb00,_0x5cacdb){try{return(0x0,fs_1[a0_0x551d('0x21')])(path[a0_0x551d('0x14')](_0x5cfb00,a0_0x551d('0x3d'),_0x5cacdb))[a0_0x551d('0x2f')]();}catch(_0x539f5a){try{return(0x0,fs_1['readFileSync'])(path[a0_0x551d('0x14')](_0x5cfb00,_0x5cacdb,a0_0x551d('0x12')))[a0_0x551d('0x2f')]();}catch(_0x3db7fa){return'';}}}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;CloudEnabledLifeCycle['MAX_CHARACTERS_FAILED_TASK']=0x30d40;CloudEnabledLifeCycle[a0_0x551d('0x26')]=0x4e20;CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK']=0x4e20;